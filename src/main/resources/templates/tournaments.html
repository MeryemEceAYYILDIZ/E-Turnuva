<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Turnuvalar</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"></head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container"><a class="navbar-brand" href="/">ðŸŽ® E-Turnuva</a>
    <div class="collapse navbar-collapse"><ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="/">Dashboard</a></li><li class="nav-item"><a class="nav-link" href="/games">Oyunlar</a></li><li class="nav-item"><a class="nav-link" href="/teams">TakÄ±mlar</a></li><li class="nav-item"><a class="nav-link active" href="/tournaments">Turnuvalar</a></li></ul></div></div>
</nav>
<div class="container">
  <h3>Turnuva YÃ¶netimi</h3>

  <div class="card mb-4">
    <div class="card-body">
      <form action="/tournaments/add" method="post" th:object="${newTournament}">
        <div class="row g-2">
          <div class="col-md-3"><input type="text" class="form-control" placeholder="Turnuva AdÄ±" th:field="*{name}" required></div>
          <div class="col-md-2"><input type="number" class="form-control" placeholder="Ã–dÃ¼l ($)" th:field="*{prizePool}"></div>
          <div class="col-md-3">
            <select class="form-select" th:field="*{game}">
              <option value="">Oyun SeÃ§iniz...</option>
              <option th:each="g : ${games}" th:value="${g.id}" th:text="${g.gameName}"></option>
            </select>
          </div>
          <div class="col-md-2">
            <select class="form-select" th:field="*{status}">
              <option value="OPEN">KayÄ±t AÃ§Ä±k</option>
              <option value="ACTIVE">Aktif</option>
            </select>
          </div>
          <div class="col-md-2"><button type="submit" class="btn btn-success w-100">OluÅŸtur</button></div>
        </div>
      </form>
    </div>
  </div>

  <table class="table table-hover">
    <thead class="table-dark"><tr><th>Turnuva</th><th>Oyun</th><th>Ã–dÃ¼l</th><th>Durum</th><th>Ä°ÅŸlem</th></tr></thead>
    <tbody>
    <tr th:each="t : ${tournaments}">
      <td th:text="${t.name}"></td>
      <td th:text="${t.game != null} ? ${t.game.gameName} : '-'"></td>
      <td th:text="${t.prizePool} + ' $'"></td>
      <td><span class="badge bg-info" th:text="${t.status}"></span></td>
      <td><a th:href="@{/tournaments/delete/{id}(id=${t.id})}" class="btn btn-sm btn-danger">Sil</a></td>
    </tr>
    </tbody>
  </table>
</div>
</body></html>